{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/empleado.service\";\nimport * as i2 from \"@angular/common\";\nfunction EmpleadoComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function EmpleadoComponent_tr_17_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const empleado_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editarEmpleado(empleado_r1));\n    });\n    i0.ɵɵtext(11, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function EmpleadoComponent_tr_17_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const empleado_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.eliminarEmpleado(empleado_r1.id));\n    });\n    i0.ɵɵtext(13, \"Eliminar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const empleado_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(empleado_r1.cedula);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(empleado_r1.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(empleado_r1.rutaFoto);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(empleado_r1.fechaIngreso);\n  }\n}\nexport class EmpleadoComponent {\n  constructor(empleadoService) {\n    this.empleadoService = empleadoService;\n    this.empleados = [];\n    this.nuevoEmpleado = {\n      cedula: 0,\n      nombre: \"\",\n      rutaFoto: \"\",\n      fechaIngreso: new Date(),\n      cargoId: 0,\n      usuario: \"\",\n      contrasena: \"\",\n      rolId: 0\n    };\n  }\n  ngOnInit() {\n    this.getAllEmpleados();\n  }\n  getAllEmpleados() {\n    this.empleadoService.getAllEmpleados().subscribe(empleados => this.empleados = empleados, error => console.error(error));\n  }\n  crearEmpleado() {\n    this.empleadoService.createEmpleado(this.nuevoEmpleado).subscribe(empleado => {\n      this.empleados.push(empleado);\n      this.nuevoEmpleado = {\n        cedula: 0,\n        nombre: \"\",\n        rutaFoto: \"\",\n        fechaIngreso: new Date(),\n        cargoId: 0,\n        usuario: \"\",\n        contrasena: \"\",\n        rolId: 0\n      }; // Limpiar el formulario;\n    }, error => console.error(error));\n  }\n  actualizarEmpleado(empleado) {\n    this.empleadoService.updateEmpleado(empleado.cedula, empleado).subscribe(updatedEmpleado => {\n      const index = this.empleados.findIndex(e => e.cedula === empleado.cedula);\n      if (index !== -1) {\n        this.empleados[index] = updatedEmpleado;\n      }\n    }, error => console.error(error));\n  }\n  eliminarEmpleado(cedula) {\n    this.empleadoService.deleteEmpleado(cedula).subscribe(() => {\n      this.empleados = this.empleados.filter(e => e.cedula !== cedula);\n    }, error => console.error(error));\n  }\n}\nEmpleadoComponent.ɵfac = function EmpleadoComponent_Factory(t) {\n  return new (t || EmpleadoComponent)(i0.ɵɵdirectiveInject(i1.EmpleadoService));\n};\nEmpleadoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmpleadoComponent,\n  selectors: [[\"app-empleado\"]],\n  decls: 18,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function EmpleadoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Listado de Empleados\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\");\n      i0.ɵɵtext(7, \"C\\u00E9dula\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Ruta de Foto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Fecha de Ingreso\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"tbody\");\n      i0.ɵɵtemplate(17, EmpleadoComponent_tr_17_Template, 14, 4, \"tr\", 2);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.empleados);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    margin-top: 20px;\\r\\n  }\\r\\n  \\r\\n  h2[_ngcontent-%COMP%] {\\r\\n    color: #333;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    border-collapse: collapse;\\r\\n    margin-top: 20px;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n    padding: 8px;\\r\\n    border-bottom: 1px solid #ddd;\\r\\n    text-align: left;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n    background-color: #f2f2f2;\\r\\n    color: #333;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even) {\\r\\n    background-color: #f2f2f2;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #ddd;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZW1wbGVhZG8vZW1wbGVhZG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsZ0JBQWdCO0VBQ2xCOztFQUVBOztJQUVFLFlBQVk7SUFDWiw2QkFBNkI7SUFDN0IsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHNCQUFzQjtFQUN4QiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgaDIge1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgfVxyXG4gIFxyXG4gIC50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAudGFibGUgdGgsXHJcbiAgLnRhYmxlIHRkIHtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICB9XHJcbiAgXHJcbiAgLnRhYmxlIHRoIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICB9XHJcbiAgXHJcbiAgLnRhYmxlIHRib2R5IHRyOm50aC1jaGlsZChldmVuKSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG4gIH1cclxuICBcclxuICAudGFibGUgdGJvZHkgdHI6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EmpleadoComponent","constructor","empleadoService","cedula","nombre","rutaFoto","fechaIngreso","Date","cargoId","usuario","contrasena","rolId","ngOnInit","getAllEmpleados","subscribe","empleados","error","console","crearEmpleado","createEmpleado","nuevoEmpleado","empleado","push","actualizarEmpleado","updateEmpleado","updatedEmpleado","index","findIndex","e","eliminarEmpleado","deleteEmpleado","filter","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\PruebaTecnicaCastor\\PuebaNN.S.A\\PuebaNN.S.A\\ClientApp\\src\\app\\empleado\\empleado.component.html","E:\\PruebaTecnicaCastor\\PuebaNN.S.A\\PuebaNN.S.A\\ClientApp\\src\\app\\empleado\\empleado.component.ts"],"sourcesContent":["<!-- empleado.component.html -->\r\n\r\n<div class=\"container\">\r\n    <h2>Listado de Empleados</h2>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Cédula</th>\r\n          <th>Nombre</th>\r\n          <th>Ruta de Foto</th>\r\n          <th>Fecha de Ingreso</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let empleado of empleados\">\r\n          <td>{{ empleado.cedula }}</td>\r\n          <td>{{ empleado.nombre }}</td>\r\n          <td>{{ empleado.rutaFoto }}</td>\r\n          <td>{{ empleado.fechaIngreso }}</td>\r\n          <td>\r\n            <button (click)=\"editarEmpleado(empleado)\" class=\"btn btn-primary\">Editar</button>\r\n            <button (click)=\"eliminarEmpleado(empleado.id)\" class=\"btn btn-danger\">Eliminar</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  ","import { Component, OnInit } from '@angular/core';\r\nimport { Empleado } from '../models/empleado.model';\r\nimport { EmpleadoService } from '../services/empleado.service';\r\n\r\n@Component({\r\n  selector: 'app-empleado',\r\n  templateUrl: './empleado.component.html',\r\n  styleUrls: ['./empleado.component.css']\r\n})\r\nexport class EmpleadoComponent implements OnInit {\r\n  empleados: Empleado[] = [];\r\n  nuevoEmpleado: Empleado  = {\r\n    cedula: 0,\r\n    nombre: \"\",\r\n    rutaFoto: \"\",\r\n    fechaIngreso: new Date(),\r\n    cargoId: 0,\r\n    usuario: \"\",\r\n    contrasena: \"\",\r\n    rolId: 0\r\n  }; \r\n\r\n  constructor(private empleadoService: EmpleadoService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAllEmpleados();\r\n  }\r\n\r\n  getAllEmpleados(): void {\r\n    this.empleadoService.getAllEmpleados().subscribe(\r\n      empleados => this.empleados = empleados,\r\n      error => console.error(error)\r\n    );\r\n  }\r\n\r\n  crearEmpleado(): void {\r\n    this.empleadoService.createEmpleado(this.nuevoEmpleado).subscribe(\r\n      empleado => {\r\n        this.empleados.push(empleado);\r\n        this.nuevoEmpleado = {\r\n            cedula: 0,\r\n            nombre: \"\",\r\n            rutaFoto: \"\",\r\n            fechaIngreso: new Date(),\r\n            cargoId: 0,\r\n            usuario: \"\",\r\n            contrasena: \"\",\r\n            rolId: 0\r\n          }; // Limpiar el formulario;\r\n      },\r\n      error => console.error(error)\r\n    );\r\n  }\r\n\r\n  actualizarEmpleado(empleado: Empleado): void {\r\n    this.empleadoService.updateEmpleado(empleado.cedula, empleado).subscribe(\r\n        updatedEmpleado => {\r\n            const index = this.empleados.findIndex(e => e.cedula === empleado.cedula);\r\n            if (index !== -1) {\r\n                this.empleados[index] = updatedEmpleado;\r\n            }\r\n        },\r\n        error => console.error(error)\r\n    );\r\n  }\r\n\r\n  eliminarEmpleado(cedula: number): void {\r\n    this.empleadoService.deleteEmpleado(cedula).subscribe(\r\n        () => {\r\n            this.empleados = this.empleados.filter(e => e.cedula !== cedula);\r\n        },\r\n        error => console.error(error)\r\n    );\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}